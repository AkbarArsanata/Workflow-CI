| Kategori                    | Deskripsi                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Dataset**                 | Dataset yang digunakan adalah [Bank Turnover Dataset](https://www.kaggle.com/datasets/barelydedicated/bank-customer-churn-modeling), yang berisi 10.000 baris data nasabah bank dari wilayah geografis yang berbeda (Prancis, Jerman, dan Spanyol). Setiap baris mencakup informasi demografis (jenis kelamin, usia, status pernikahan), informasi keuangan (saldo, pendapatan tahunan, kredit skor), dan perilaku nasabah (jumlah produk, status keanggotaan aktif, dan apakah mereka keluar dari bank atau tidak). Target klasifikasi adalah variabel `Exited`.                                                           |
| **Masalah**                 | Permasalahan utama dalam proyek ini adalah melakukan prediksi apakah seorang nasabah akan meninggalkan (churn) bank atau tetap menjadi pelanggan. Hal ini merupakan permasalahan klasifikasi biner (binary classification), yang secara bisnis penting untuk mempertahankan loyalitas pelanggan. Prediksi churn secara akurat dapat membantu bank untuk menerapkan strategi retensi pelanggan yang lebih efektif dan efisien. Tantangannya meliputi ketidakseimbangan data (data imbalance), korelasi antar fitur, serta pemilihan fitur yang relevan.                                                                      |
| **Solusi Machine Learning** | Solusi yang diusulkan adalah membangun pipeline Machine Learning berbasis TFX (TensorFlow Extended) yang mencakup proses _data ingestion_, _data transformation_, _model training_, _hyperparameter tuning_, _model evaluation_, hingga _model serving_ secara otomatis. Model yang digunakan bertujuan untuk mempelajari pola perilaku churn pelanggan dan memprediksi nasabah yang berisiko churn. Untuk meningkatkan akurasi dan stabilitas model, dilakukan _hyperparameter tuning_ menggunakan KerasTuner.                                                                                                             |
| **Metode Pengolahan**       | Data diproses menggunakan **TensorFlow Transform (TFT)** dalam pipeline TFX, dengan langkah-langkah sebagai berikut:<br>• **Fitur numerik** seperti `CreditScore`, `Age`, `Tenure`, `Balance`, `NumOfProducts`, `HasCrCard`, `IsActiveMember`, dan `EstimatedSalary` dinormalisasi menggunakan **z-score scaling** untuk menyamakan skala antar fitur.<br>• **Fitur kategorikal** `Geography` dan `Gender` dikonversi menjadi **indeks integer** yang stabil menggunakan teknik **vocabulary encoding** (`tft.compute_and_apply_vocabulary`).<br>• **Label target** `Exited` diubah ke tipe data `int64` untuk memastikan kompatibilitas dengan fungsi loss klasifikasi.<br>• Semua hasil transformasi diberi akhiran **`_xf`** agar terpisah dari data mentah dan mudah dilacak sepanjang pipeline.<br>• Proses ini juga mengasumsikan telah dilakukan **validasi awal** untuk memastikan tidak ada nilai `null` dan semua kolom memiliki format yang sesuai sebelum masuk ke tahap transformasi dan training. |
| **Arsitektur Model**        | **1. Input Layer**<br>Model ini menerima dua jenis input: <br> (a) **Fitur numerik** (`float32`, shape `(1,)` per fitur), terdiri dari `Age`, `Balance`, `CreditScore`, `EstimatedSalary`, `NumOfProducts`, `Tenure`, `HasCrCard`, dan `IsActiveMember`. Semua fitur ini diasumsikan telah melalui proses transformasi seperti normalisasi z-score. <br> (b) **Fitur kategorikal** (`int64`, shape `(1,)` per fitur), yaitu `Gender` dan `Geography`, yang telah dikonversi menjadi indeks integer melalui proses vocabulary encoding. Setiap fitur dimasukkan sebagai input tensor individual (`tf.keras.Input`), sehingga total terdapat 10 input.<br><br>**2. Embedding Layer (untuk fitur kategorikal)**<br>Fitur `Gender` memiliki 2 kategori + 1 OOV (`input_dim=3`, `output_dim=4`), dan `Geography` memiliki 3 kategori + 1 OOV (`input_dim=4`, `output_dim=4`). Output dari masing-masing embedding diratakan (`Reshape`) menjadi vektor `(4,)` untuk digabungkan dengan fitur numerik. Embedding ini memungkinkan representasi laten yang lebih kompak dan informatif dibandingkan one-hot encoding.<br><br>**3. Feature Concatenation**<br>Semua fitur numerik dan hasil embedding digabung menggunakan `layers.Concatenate()`, membentuk representasi gabungan dari seluruh fitur pelanggan.<br><br>**4. Hidden Layers**<br>Model memiliki beberapa hidden layer: `Dense(64, activation='relu')`, `Dense(32, activation='relu')`, `Dropout(0.3)`, dan `Dense(16, activation='relu')`. Arsitektur ini dirancang untuk menangkap interaksi fitur secara nonlinier, sambil mengurangi risiko overfitting dengan regularisasi dropout.<br><br>**5. Output Layer**<br>Lapisan output terdiri dari `Dense(1, activation='sigmoid')` yang menghasilkan nilai probabilitas churn antara 0 hingga 1.<br><br>**6. Loss Function & Optimizer**<br>Model menggunakan fungsi loss `binary_crossentropy` dan optimizer `Adam` dengan `learning_rate=0.001`.<br><br>**7. Compile & Evaluation Metrics**<br>Model dikompilasi dengan metrik evaluasi `accuracy` (`BinaryAccuracy`), `AUC`, `precision`, dan `recall`, untuk mengevaluasi performa klasifikasi secara lebih komprehensif.<br><br>**8. Signature Serving**<br>Model disiapkan untuk deployment menggunakan `serve_tf_examples_fn`, yang menerima input bertipe `tf.Example` (serialized), melakukan parsing serta transformasi balik menggunakan `tf_transform_output`, dan mengembalikan hasil prediksi. Signature ini digunakan dalam `SavedModel` yang diekspor untuk keperluan serving di lingkungan produksi.|
| **Metrik Evaluasi**         | Selama pelatihan, model dievaluasi menggunakan **empat metrik utama klasifikasi biner** yang telah diimplementasikan secara eksplisit dalam kode:<br>• **Binary Accuracy** – Mengukur proporsi data yang diklasifikasikan dengan benar oleh model (default threshold: 0.5). Akurat secara umum, tetapi kurang andal jika data tidak seimbang.<br>• **AUC (Area Under ROC Curve)** – Metrik utama dalam kasus ini. Menilai kemampuan model dalam membedakan kelas churn dan non-churn tanpa bergantung pada threshold tertentu. Nilai berkisar antara 0.5 (acak) hingga 1.0 (sempurna).<br>• **Precision** – Dari seluruh prediksi churn, metrik ini menunjukkan seberapa banyak yang benar-benar churn. Cocok jika salah prediksi churn berdampak besar (misalnya, menargetkan pelanggan yang sebenarnya tidak keluar).<br>• **Recall** – Dari seluruh nasabah yang benar-benar churn, recall menunjukkan berapa banyak yang berhasil dideteksi oleh model. Sangat penting jika tujuan utamanya adalah menjangkau sebanyak mungkin pelanggan yang berpotensi churn.|
| **Performa Model**          | **1. Ringkasan Global**<br>Accuracy: 0.8409 → Model mengklasifikasikan ~84.1% contoh dengan benar secara keseluruhan. Perlu hati-hati karena angka ini bisa menyesatkan jika ada ketidakseimbangan kelas.<br>AUC: 0.8364 → Model cukup baik dalam membedakan kelas positif dan negatif, dengan kemampuan pemeringkatan yang solid (~83.6%).<br>Binary Accuracy: Sama dengan accuracy karena menggunakan threshold default (kemungkinan 0.5).<br>Loss: 0.3791 → Nilai loss menengah; menunjukkan model belum overconfident tetapi masih bisa ditingkatkan.<br>Precision: 0.6413 → Sekitar 64.1% dari prediksi positif benar-benar positif. Masih ada banyak false positive (~35.9%).<br>Recall: 0.4903 → Hanya 49.0% dari semua kasus positif yang berhasil terdeteksi. Model banyak melewatkan kasus penting.<br>F1 Score (turunan): ~0.556 → Menunjukkan trade-off antara precision dan recall yang sedang. Masih perlu peningkatan, terutama pada recall.<br><br>**2. Analisis Performa berdasarkan Slice Geography**<br>**France**<br>Accuracy: 0.8734 <br> AUC: 0.8701 <br> Precision: 0.6496 <br> Recall: 0.4634<br>Performa keseluruhan terbaik. Model mampu memisahkan kelas dengan baik (AUC tinggi), tetapi recall tetap rendah sehingga banyak positif yang terlewat.<br><br>**Spain**<br>Accuracy: 0.8340 <br> AUC: 0.8016 <br> Precision: 0.6552 <br> Recall: 0.3619<br>Masalah terbesar: AUC dan recall rendah. Kemampuan model dalam membedakan kelas dan mendeteksi positif sangat terbatas. Banyak positif tidak terdeteksi.<br><br>**Germany**<br>Accuracy: 0.8029 <br> AUC: 0.8143 <br> Precision: 0.7327 <br> Recall: 0.5175<br>Precision tertinggi dan recall terbaik dibandingkan slice lain. Namun, akurasi dan AUC lebih rendah dari France. Menunjukkan model cukup akurat saat memprediksi positif, tapi tidak konsisten dalam memisahkan skor.<br><br>**3. Performa Global yang Solid**<br>Accuracy global mencapai 0.8409, menunjukkan bahwa model mampu mengklasifikasikan data dengan tingkat ketepatan yang tinggi secara umum.<br>AUC sebesar 0.8364 menunjukkan model memiliki kemampuan yang baik dalam membedakan antara kelas positif dan negatif, dengan kualitas pemeringkatan skor yang stabil.<br>Precision sebesar 0.6413 menandakan bahwa lebih dari 64% prediksi positif yang dilakukan model adalah benar, mengindikasikan keandalan yang cukup baik saat model memutuskan sebuah kasus adalah positif.<br>**4. Slice France dengan Performa Tertinggi**<br>Accuracy di France mencapai 0.8734, tertinggi di antara semua kelompok, menunjukkan bahwa model sangat akurat pada data dari wilayah ini.<br>AUC France sebesar 0.8701 adalah yang terbaik, mencerminkan kemampuan pemisahan kelas yang sangat baik.<br>Loss terendah di France (0.3024), menunjukkan model sangat yakin pada prediksinya dan probabilitasnya relatif terkalibrasi baik untuk data wilayah ini.<br>**5. Precision Tertinggi di Germany**<br>Precision sebesar 0.7327 di Germany merupakan yang tertinggi, mengindikasikan bahwa ketika model memprediksi positif di wilayah ini, prediksinya sangat dapat dipercaya.<br>Recall di Germany juga menjadi yang terbaik (0.5175), menunjukkan bahwa model lebih berhasil menangkap kasus positif dibandingkan wilayah lain.<br>**6. Konsistensi Performa antar Wilayah**<br>Meskipun ada variasi, semua wilayah menunjukkan AUC di atas 0.80, yang menandakan bahwa model tetap memiliki performa pemeringkatan yang baik dan stabil di berbagai subset data.<br>Semua slice memiliki precision di atas 0.64, yang menunjukkan bahwa model tetap menghasilkan prediksi positif yang cukup andal di semua wilayah.<br>**7. Potensi untuk Fine-Tuning Lebih Lanjut**<br>Dengan performa global yang sudah cukup baik dan slice-level yang kuat di beberapa wilayah, model memiliki pondasi kuat untuk ditingkatkan lebih lanjut melalui tuning threshold dan kalibrasi tanpa harus membangun ulang dari awal. |
